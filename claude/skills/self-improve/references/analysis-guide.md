# シグナル検出パターン定義

## 修正シグナル

ユーザーがClaude の行動を修正した場面を検出する。

### 高優先度（CLAUDE.md への反映候補）
- 明示的な否定: 「違う」「そうじゃなくて」「それは不要」
- やり直し指示: 「もう一度」「戻して」「元に戻して」
- 方針転換: 「やっぱり〜にして」「〜の方がいい」
- ルール指摘: 「毎回〜して」「いつも〜すること」「〜は禁止」

### 中優先度（lessons-learned 候補）
- 補足情報の提供: 「実は〜」「ちなみに〜」（前提知識の不足を示す）
- 微修正: 変数名・文言の変更指示

## ツール失敗パターン

### 高優先度
- 同じツールの連続失敗（2回以上）
- 存在しないファイルへのアクセス試行
- 権限エラー

### 中優先度
- タイムアウト
- 想定外の出力フォーマット

## 非効率パターン

### スキル改善候補
- 同じファイルを複数回読み込み
- 不要な中間ステップ（直接実行可能なのに確認を挟む）
- 手動で繰り返す定型操作（3回以上 → 新規スキル提案）

### CLAUDE.md 改善候補
- プロジェクト構造の前提知識不足による探索
- コーディング規約違反の指摘を受けた

## 品質基準

改善提案は以下を満たすこと:

1. **具体的**: 抽象的な方針ではなく、実行可能なルールとして記述
2. **検証可能**: ルールに従っているかどうか判定できる
3. **非重複**: 既存ルールと重複しない（重複する場合は統合を提案）
4. **最小限**: 1つの提案で1つの問題を解決する（複数の問題を1つにまとめない）
